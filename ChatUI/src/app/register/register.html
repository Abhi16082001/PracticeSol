<div class="register-container">
    <h2>Register</h2>
    <form #registerForm="ngForm" (ngSubmit)="onSubmit(registerForm)" novalidate>

        <!-- Username -->
        <div>
            <label>Username</label>
            <input type="text" name="uname" [(ngModel)]="user.uname" required minlength="3" #uname="ngModel">
            <div *ngIf="uname.invalid && uname.touched" class="error">
                Username is required (min 3 chars).
            </div>
        </div>

        <!-- Email -->
        <div>
            <label>Email</label>
            <input type="email" name="email" [(ngModel)]="user.email" required email #email="ngModel">
            <div *ngIf="email.invalid && email.touched" class="error">
                Enter a valid email.
            </div>
        </div>

        <!-- Phone -->
        <div>
            <label>Phone</label>
            <input type="number" name="phone" [(ngModel)]="user.phone" required pattern="^[0-9]{10}$" #phone="ngModel">
            <div *ngIf="phone.invalid && phone.touched" class="error">
                Phone must be 10 digits.
            </div>
        </div>

        <!-- First Name -->
        <div>
            <label>First Name</label>
            <input type="text" name="fname" [(ngModel)]="user.fname" required #fname="ngModel">
            <div *ngIf="fname.invalid && fname.touched" class="error">
                First name is required.
            </div>
        </div>

        <!-- Last Name -->
        <div>
            <label>Last Name</label>
            <input type="text" name="lname" [(ngModel)]="user.lname" required #lname="ngModel">
            <div *ngIf="lname.invalid && lname.touched" class="error">
                Last name is required.
            </div>
        </div>

        <!-- Password -->
        <div>
            <label>Password</label>
            <input type="password" name="password" [(ngModel)]="user.password" required minlength="6"
                #password="ngModel">
            <div *ngIf="password.invalid && password.touched" class="error">
                Password must be at least 6 characters.
            </div>
        </div>

        <!-- Confirm Password -->
        <div>
            <label>Confirm Password</label>
            <input type="password" name="confirmPassword" [(ngModel)]="confirmPassword" required #cpassword="ngModel">
            <div *ngIf="cpassword.touched && confirmPassword !== user.password" class="error">
                Passwords do not match.
            </div>
        </div>

        <!-- DOB -->
        <div>
            <label>Date of Birth</label>
            <input type="date" name="dob" [(ngModel)]="user.dob" required #dob="ngModel" (change)="validateDOB()">
            <div *ngIf="dobError" class="error">
                You must be at least 18 years old.
            </div>
        </div>

        <button type="submit" [disabled]="registerForm.invalid || dobError">Register</button>
    </form>

    <a routerLink="/login">Login Here</a>
</div>